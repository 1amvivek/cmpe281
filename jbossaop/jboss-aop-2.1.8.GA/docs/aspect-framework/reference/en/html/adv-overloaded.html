<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>4.4. Overloaded Advices</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="JBoss AOP - Aspect-Oriented Framework for Java"/>
      <link rel="up" href="advices.html" title="Chapter 4. Advices"/>
      <link rel="prev" href="adv-joinpointargs.html" title="4.3.2. JoinPoint Arguments"/>
      <link rel="next" href="adv-overlannotparam.html" title="4.4.1. Annotated-parameter Signature"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="adv-joinpointargs.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="adv-overlannotparam.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="sect1" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title">
                     <a id="adv-overloaded"/>4.4. Overloaded Advices</h2>
               </div>
            </div>
         </div>
         <p>
         Method names can be overloaded for interception in different joinpoint scenarios. For instance, let's
         say you wanted to have a different trace advice for each invocation type. You can specify the same method
         name <code class="literal">trace</code> and just overload it with the concrete invocation type.
      </p>
         <pre class="programlisting">public class AroundAspect
{
   public Object trace(MethodInvocation invocation) throws Throwabl
   {
      try
      {
         System.out.println("Entering method: " + invocation.getMethod()");
         return invocation.invokeNext(); // proceed to next advice or actual call
      }
      finally
      {
         System.out.println("Leaving method: " + invocation.getMethod()");
      }
   }
   
   public Object trace(ConstructorInvocation invocation) throws Throwable
   {
      try
      {
         System.out.println("Entering constructor: " + invocation.getConstructor()");
         return invocation.invokeNext(); // proceed to next advice or actual call
      }
      finally
      {
         System.out.println("Leaving constructor: " + invocation.getConstructor()");
      }
   }
}</pre>
         <p>
         As you can see, the selection of the advice method is very dynamic. JBoss AOP will select
         the most appropriate advice method for each joinpoint interception. For the following setup:
      </p>
         <pre class="programlisting">class POJO
{
   public POJO(){}
   public someMethod(){}
}

&lt;aop&gt;
   &lt;aspect class="AroundAspect"/&gt;
   &lt;bind pointcut="all(POJO)"&gt;
      &lt;advice aspect="AroundAspect" name="trace"/&gt;
   &lt;/bind&gt;
&lt;/aop&gt;</pre>
         <p>
         When calling POJO’s constructor:
      </p>
         <pre class="programlisting">pojo.someMethod();</pre>
         <p>
         JBoss AOP will call the <code class="literal">trace()</code> method taking a
         <code class="literal">ConstructorInvocation</code>, and when calling:
      </p>
         <pre class="programlisting">pojo.someMethod();</pre>
         <p>
         JBoss AOP will call the <code class="literal">trace()</code> method taking a <code class="literal">MethodInvocation</code>.
      </p>
         <p>
         This examples shows that JBoss AOP will select the most appropriate advice method for each
         joinpoint interception. The capability of selecting overloaded advices is available for all
         types of advices. And its impact in the system performance is minimal since this selection
         is done once.
      </p>
         <p>
         In this section, we will describe every rule JBoss AOP uses to select an advice method when this one
         is overloaded.
      </p>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="adv-joinpointargs.html">
               <strong>Prev</strong>4.3.2. JoinPoint Arguments</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="adv-overlannotparam.html">
               <strong>Next</strong>4.4.1. Annotated-parameter Signature</a>
         </li>
      </ul>
   </body>
</html>