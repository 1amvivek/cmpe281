<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>5.16. metadata-loader</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="JBoss AOP - Aspect-Oriented Framework for Java"/>
      <link rel="up" href="xml.html" title="Chapter 5. XML Bindings"/>
      <link rel="prev" href="xml-metadata.html" title="5.15. metadata"/>
      <link rel="next" href="xml-precedence.html" title="5.17. precedence"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="xml-metadata.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="xml-precedence.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="sect1" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title">
                     <a id="xml-metadata-loader"/>5.16. metadata-loader</h2>
               </div>
            </div>
         </div>
         <pre class="programlisting">&lt;metadata-loader tag="security" class="org.jboss.aspects.security.SecurityClassMetaDataLoader"/&gt;</pre>
         <p>
         If you need more complex XML mappings for untyped metadata, you can write your own metadata binding.  The tag
         attribute is used to trigger the loader.  The loader class must implement the
         <code class="literal">org.jboss.aop.metadata.ClassMetaDataLoader</code>
         interface.
      </p>
         <pre class="programlisting">public interface ClassMetaDataLoader
{
   public ClassMetaDataBinding importMetaData(Element element, String name,
                                              String tag, String classExpr) throws Exception;

   public void bind(ClassAdvisor advisor, ClassMetaDataBinding data,
                    CtMethod[] methods, CtField[] fields, CtConstructor[] constructors) \
                    throws Exception;

   public void bind(ClassAdvisor advisor, ClassMetaDataBinding data,
                    Method[] methods, Field[] fields, Constructor[] constructors) \ 
                    throws Exception;
}</pre>
         <p>
          Any arbitrary XML can be in the
         <code class="literal">metadata</code> element.  The ClassMetaDataBinding.importMetaData
          method is responsible for parsing the element and building ClassMetaDataBinding structurs which are
          used in the precompiler and runtime bind steps.  Look at the SecurityClassMetaDataLoader code shown above
          for a real concrete example.
      </p>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="xml-metadata.html">
               <strong>Prev</strong>5.15. metadata</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="xml-precedence.html">
               <strong>Next</strong>5.17. precedence</a>
         </li>
      </ul>
   </body>
</html>