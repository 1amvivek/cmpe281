<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>6.1. @Aspect</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="JBoss AOP - Aspect-Oriented Framework for Java"/>
      <link rel="up" href="annotated.html" title="Chapter 6. Annotation Bindings"/>
      <link rel="prev" href="annotated.html" title="Chapter 6. Annotation Bindings"/>
      <link rel="next" href="annotated-interceptor.html" title="6.2. @InterceptorDef"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="annotated.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="annotated-interceptor.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="sect1" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title">
                     <a id="annotated-aspect"/>6.1. @Aspect</h2>
               </div>
            </div>
         </div>
         <p>
         To mark a class as an aspect you annotate it with the
         <code class="literal">@Aspect</code> annotation.
         Remember that a class to be used as an aspect does not need to inherit or implement anything special,
         but it must have an empty constuctor and contain one or more methods (advices) of the format:
         </p>
         <pre class="programlisting">public Object &lt;any-method-name&gt;(org.jboss.aop.joinpoint.Invocation)</pre>
         <p>
      
         </p>
         <p>
         The declaration of
         <code class="literal">org.jboss.aop.Aspect</code> is:
         </p>
         <pre class="programlisting">
   package org.jboss.aop;

   import org.jboss.aop.advice.Scope;
   import java.lang.annotation.ElementType;
   import java.lang.annotation.Retention;
   import java.lang.annotation.RetentionPolicy;
   import java.lang.annotation.Target;


   @Target({ElementType.TYPE}) @Retention(RetentionPolicy.RUNTIME)
           public @interface Aspect
   {
      Scope scope() default Scope.PER_VM;
   }

         </pre>
         <p>
         and Scope is:
         </p>
         <pre class="programlisting">
   package org.jboss.aop.advice;

   public enum Scope
   {
      PER_VM, PER_CLASS, PER_INSTANCE, PER_JOINPOINT
   }
         </pre>
         <p>
         See <a href="xml-aspect2.html" title="5.4.2. Scope">Section 5.4.2, “Scope”</a> for a description of the various scopes.
      </p>
         <p>
         We use the @Aspect annotation as follows:
         </p>
         <pre class="programlisting">
   package com.mypackage;

   import org.jboss.aop.Aspect;
   import org.jboss.aop.advice.Scope;
   import org.jboss.aop.joinpoint.Invocation;

   @Aspect (scope = Scope.PER_VM)
   public class MyAspect
   {
      public Object myAdvice(Invocation invocation)
   }

         </pre>
         <p>
      
         </p>
         <p>
         The name of the class (in this case <code class="literal">com.mypackage.MyAspect</code>) gets used as the
         internal name of the aspect. The equivalent using XML configuration would be:
         </p>
         <pre class="programlisting">
            &lt;aop&gt;
            &lt;aspect class="com.mypackage.MyAspect" scope="PER_VM"/&gt;
            &lt;/aop&gt;
         </pre>
         <p>
      
         </p>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="annotated.html">
               <strong>Prev</strong>Chapter 6. Annotation Bindings</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="annotated-interceptor.html">
               <strong>Next</strong>6.2. @InterceptorDef</a>
         </li>
      </ul>
   </body>
</html>