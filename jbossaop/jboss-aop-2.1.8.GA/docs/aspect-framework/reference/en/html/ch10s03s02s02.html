<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>10.3.2.2. JBoss 4.x AspectManager Service</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="JBoss AOP - Aspect-Oriented Framework for Java"/>
      <link rel="up" href="ch10s03s02.html" title="10.3.2. The JBoss AspectManager Service"/>
      <link rel="prev" href="ch10s03s02s01.html" title="10.3.2.1. JBoss 5 AspectManager Service"/>
      <link rel="next" href="running-as-sun-jdk.html" title="10.3.3. Loadtime transformation in JBoss AS Using Sun JDK"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch10s03s02s01.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="running-as-sun-jdk.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="sect3" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h4 class="title">
                     <a id="d0e4632"/>10.3.2.2. JBoss 4.x AspectManager Service</h4>
               </div>
            </div>
         </div>
         <p>
               In JBoss 4.x the AspectManager Service is configured using a JBoss Microcontainer bean. The configuration file
               is <code class="literal">jboss-4.x.x.GA/server/default/deploy/jboss-aop-jdk50.deployer/META-INF/jboss-service.xml</code>. 
               The AspectManager Service is deployed with
               the following xml:
            </p>
         <pre class="programlisting">

   &lt;mbean code="org.jboss.aop.deployment.AspectManagerServiceJDK5"
      name="jboss.aop:service=AspectManager"&gt;
      &lt;attribute name="EnableLoadtimeWeaving"&gt;false&lt;/attribute&gt;
      &lt;!-- only relevant when EnableLoadtimeWeaving is true.  
           When transformer is on, every loaded class gets 
           transformed.  If AOP can't find the class, then it 
           throws an exception.  Sometimes, classes may not have 
           all the classes they reference.  So, the Suppressing 
           is needed.  (i.e. Jboss cache in the default configuration --&gt;
      &lt;attribute name="SuppressTransformationErrors"&gt;true&lt;/attribute&gt;
      &lt;attribute name="Prune"&gt;true&lt;/attribute&gt;
      &lt;attribute name="Include"&gt;org.jboss.test, org.jboss.injbossaop&lt;/attribute&gt;
      &lt;attribute name="Exclude"&gt;org.jboss.&lt;/attribute&gt;
      &lt;!-- This avoids instrumentation of hibernate cglib enhanced proxies
      &lt;attribute name="Ignore"&gt;*$$EnhancerByCGLIB$$*&lt;/attribute&gt; --&gt;
      &lt;attribute name="Optimized"&gt;true&lt;/attribute&gt;
      &lt;attribute name="Verbose"&gt;false&lt;/attribute&gt;
      &lt;depends optional-attribute-name="JBossIntegrationWrapper" proxy-type="attribute"&gt;jboss.aop:service=JBoss4IntegrationWrapper&lt;/depends&gt;
      &lt;!-- 
         Available choices for this attribute are:
            org.jboss.aop.instrument.ClassicInstrumentor (default)
            org.jboss.aop.instrument.GeneratedAdvisorInstrumentor
       &lt;attribute name="Instrumentor"&gt;org.jboss.aop.instrument.ClassicInstrumentor&lt;/attribute&gt;
      --&gt;
   &lt;/mbean&gt;

               
            </pre>
         <p>
               In later sections we will talk about changing the class of the AspectManager Service, to
               do this replace the contents of the <code class="literal">code</code> attribute of the 
               <code class="literal">mbean</code> element.
            </p>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="ch10s03s02s01.html">
               <strong>Prev</strong>10.3.2.1. JBoss 5 AspectManager Service</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="running-as-sun-jdk.html">
               <strong>Next</strong>10.3.3. Loadtime transformation in JBoss AS Using...</a>
         </li>
      </ul>
   </body>
</html>