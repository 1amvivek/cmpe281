<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>2.6.1. Resolving XML Metadata</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="JBoss AOP - Aspect-Oriented Framework for Java"/>
      <link rel="up" href="impl-invocation4.html" title="2.6. Metadata"/>
      <link rel="prev" href="impl-invocation4.html" title="2.6. Metadata"/>
      <link rel="next" href="impl-metadata2.html" title="2.6.2. Attaching Metadata"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="impl-invocation4.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="impl-metadata2.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="sect2" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h3 class="title">
                     <a id="impl-metadata1"/>2.6.1. Resolving XML Metadata</h3>
               </div>
            </div>
         </div>
         <p>
            Untyped metadata can be defined within XML files and bound to org.jboss.aop.metadata.SimpleMetaData structures.
            This XML data can be attached per method, field, class, and constructor.
            To resolve this type of metadata, the Invocation object provides a method to abstract out where the
            metadata comes from.
         </p>
         <pre class="programlisting">Object getMetaData(Object group, Object attr)</pre>
         <p>
            When this method is called, the invocation will look for metadata in this order:
         </p>
         <div class="orderedlist">
            <ol>
               <li>
                  <p>
                   First it looks in the Invocation's metadata (
                  <code class="literal">SimpleMetaData getMetaData()</code>)
               </p>
               </li>
               <li>
                  <p>
                  Next it looks in
                  <code class="literal">org.jboss.aop.metadata.ThreadMetaData.instance()</code>.  ThreadMetaData
                  allows you to override metadata for the whole thread.  The metadata is managed by a ThreadLocal.
                  ThreadMetaData is used by every single invocation object at runtime.
               </p>
               </li>
               <li>
                  <p>
                  Next it looks in either org.jboss.aop.Advisor.getMethodMetaData(), Advisor.getConstructorMetaData(), or Advisor.getFieldMetaData()
                  depending on the invocation type.
               </p>
               </li>
               <li>
                  <p>
                  Next it looks in either Advisor.getDefaultMetaData().
               </p>
               </li>
            </ol>
         </div>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="impl-invocation4.html">
               <strong>Prev</strong>2.6. Metadata</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="impl-metadata2.html">
               <strong>Next</strong>2.6.2. Attaching Metadata</a>
         </li>
      </ul>
   </body>
</html>