<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>JBoss AOP - Aspect-Oriented Framework for Java</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
   </head>
   <body>
      <div class="book" lang="en">
         <div class="titlepage">
            <div>
               <p id="title">
                  <a href="http://www.jboss.org" class="jbossOrg_href">
                     <strong>
						        JBoss.org	
						</strong>
                  </a>
                  <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
                     <strong>
						        Community Documentation	
						</strong>
                  </a>
               </p>
               <div>
                  <h1 class="title">
                     <a id="d0e1"/>JBoss AOP - Aspect-Oriented Framework for Java</h1>
               </div>
               <div>
                  <h2 class="subtitle">Quick Reference</h2>
               </div>
               <div>
                  <p class="releaseinfo">2.0.0</p>
               </div>
            </div>
            <hr/>
         </div>
         <div class="toc">
            <dl>
               <dt>
                  <span class="chapter">
                     <a href="#quickref-intro">1. Conventions</a>
                  </span>
               </dt>
               <dt>
                  <span class="chapter">
                     <a href="#quickref-ref">2. Quick ref</a>
                  </span>
               </dt>
               <dd>
                  <dl>
                     <dt>
                        <span class="sect1">
                           <a href="#aspects">2.1. Aspects</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#interceptors">2.2. Interceptors</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#bindings">2.3. Bindings</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#stacks">2.4. Stacks</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#pointcuts">2.5. Pointcuts</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#if-introductions">2.6. Interface Introductions</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#mixins">2.7. Mixins</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#ann-intro">2.8. Annotation Introductions</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#cflow-stack">2.9. CFlow Stack</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#typedef">2.10. Typedefs</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#dyna-cflow">2.11. Dynamic CFlow</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#prepare">2.12. Prepare</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#metadata">2.13. Metadata</a>
                        </span>
                     </dt>
                     <dt>
                        <span class="sect1">
                           <a href="#metadata-loader">2.14. Metadata Loaders</a>
                        </span>
                     </dt>
                  </dl>
               </dd>
            </dl>
         </div>
         <div class="chapter" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title">
                        <a id="quickref-intro"/>Chapter 1. Conventions</h2>
                  </div>
               </div>
            </div>
            <p>
         This document gives a quick overview of how to use the XML and annotation
         constructs available in JBoss AOP for users who have read through the rest
         of the documentation. It uses a somewhat non-standard notation, based on how
         you would actually use an xml snippet or annotation in your code, with
         optional and alternates marked. The values for attributes
         and elements have been left out, and for annotations taking only one
         value, the value should not be specified.
         </p>
            <div class="variablelist">
               <dl>
                  <dt>
                     <span class="term">
                        <code class="literal">{a}</code>
                     </span>
                  </dt>
                  <dd>
                     <p>
                     Item <code class="literal">a</code> between curly braces is optional.
                  </p>
                  </dd>
                  <dt>
                     <span class="term">
                        <code class="literal">[a]</code>
                     </span>
                  </dt>
                  <dd>
                     <p>
                     Groups the items between the braces
                  </p>
                  </dd>
                  <dt>
                     <span class="term">
                        <code class="literal">[a | b]</code>
                     </span>
                  </dt>
                  <dd>
                     <p>
                     Use <code class="literal">a</code> or <code class="literal">b</code>
                  
                     </p>
                  </dd>
                  <dt>
                     <span class="term">
                        <code class="literal">multiplicity</code>
                     </span>
                  </dt>
                  <dd>
                     <p>
                     The multiplicity symbols are the same as for a normal DTD
                     </p>
                     <div class="itemizedlist">
                        <ul>
                           <li>
                              <code class="literal">none</code> - item should occur exactly once</li>
                           <li>
                              <code class="literal">?</code> - item should not occur, or occur once</li>
                           <li>
                              <code class="literal">*</code> - item is optional and can occur several times</li>
                           <li>
                              <code class="literal">+</code> - item must occur one or more times</li>
                        </ul>
                     </div>
                     <p>
                  
                     </p>
                  </dd>
               </dl>
            </div>
            <p>
         The parts outside these markers should just be typed in as is.
      </p>
            <p>
         For the following XML "definition":
         </p>
            <pre class="programlisting">
            
   &lt;test {optional} [choiceA | choiceB] compulsory &gt;
      [ &lt;subA&gt;&lt;/subA&gt; | &lt;subB&gt;&lt;/subB&gt; ]?
   &lt;/test&gt;
            
         </pre>
            <p>
         These would be valid XML:
         </p>
            <pre class="programlisting">
            
   &lt;test choiceA="y" compulsory="c" &gt;
      &lt;subA&gt;4&lt;/subA&gt;
   &lt;/test&gt;
   &lt;test optional="x" choiceB="y" compulsory="c" &gt;
      &lt;subB&gt;4&lt;/subB&gt;
   &lt;/test&gt;
   &lt;test optional="x" choiceB="y" compulsory="c" /&gt;
            
         </pre>
            <p>
           These would not be valid:
         </p>
            <pre class="programlisting">
            
   &lt;test choiceA="y" choiceB="y" compulsory="c" &gt;
      &lt;subA&gt;4&lt;/subA&gt;
   &lt;/test&gt;

   &lt;test choiceA="y" &gt;
      &lt;subA&gt;4&lt;/subA&gt;
   &lt;/test&gt;

   &lt;test choiceA="y" choiceB="y" compulsory="c" &gt;
      &lt;subA&gt;4&lt;/subA&gt;
   &lt;/test&gt;

   &lt;test choiceA="y" compulsory="c" &gt;
      &lt;subA&gt;4&lt;/subA&gt;
      &lt;subB&gt;4&lt;/subB&gt;
   &lt;/test&gt;

            
         </pre>
            <p>
      
            </p>
            <p>
         For the following annotation "definitions":
         </p>
            <pre class="programlisting">
            
   @AnnA ( compulsory, [choiceA | choiceB] {, optional1})
   @AnnB (expr)
             
         </pre>
            <p>
         These would be valid uses, bearing in mind that for this example compulsory is a
         String, choiceA and choiceB are integers, optional1 is an array of Strings, and
         expr is a String:
         </p>
            <pre class="programlisting">
            
   @AnnA ( compulsory="a", choiceA=3, optional1="a")
   @AnnA ( compulsory="a", choiceB=3, optional1="a", "b")
   @AnnA ( compulsory="a", choiceA=3)
   @AnnB ("a")
             
          </pre>
            <p>
         These would not be valid:
         </p>
            <pre class="programlisting">
   @AnnA (choiceA=3, optional1={"a", b=""})
   @AnnA ( compulsory="a", choiceB=3, choiceB=3, optional1={"a", "b"})
   @AnnB (3)
         </pre>
            <p>
      
            </p>
         </div>
         <div class="chapter" lang="en">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title">
                        <a id="quickref-ref"/>Chapter 2. Quick ref</h2>
                  </div>
               </div>
            </div>
            <div class="toc">
               <dl>
                  <dt>
                     <span class="sect1">
                        <a href="#aspects">2.1. Aspects</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#interceptors">2.2. Interceptors</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#bindings">2.3. Bindings</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#stacks">2.4. Stacks</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#pointcuts">2.5. Pointcuts</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#if-introductions">2.6. Interface Introductions</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#mixins">2.7. Mixins</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#ann-intro">2.8. Annotation Introductions</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#cflow-stack">2.9. CFlow Stack</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#typedef">2.10. Typedefs</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#dyna-cflow">2.11. Dynamic CFlow</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#prepare">2.12. Prepare</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#metadata">2.13. Metadata</a>
                     </span>
                  </dt>
                  <dt>
                     <span class="sect1">
                        <a href="#metadata-loader">2.14. Metadata Loaders</a>
                     </span>
                  </dt>
               </dl>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="aspects"/>2.1. Aspects</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">

   &lt;aspect {name} [class |factory] scope&gt;
      [&lt;attribute name&gt;&lt;/attribute&gt;]*
      [&lt;advisor-attribute  name &gt;&lt;/advisor-attribute&gt;]
      [&lt;instance-advisor-attribute name &gt;&lt;/instance-advisor-attribute&gt;]
      [&lt;joinpoint-attribute  name &gt;&lt;/joinpoint-attribute&gt;]
      [random xml]
   &lt;/aspect&gt;
          </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span> class</p>
               <pre class="programlisting">
   @Aspect ([class|factory], scope)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="interceptors"/>2.2. Interceptors</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;interceptor {name} [class|factory] scope /&gt;
   	[&lt;attribute name &gt;&lt;/attribute&gt;]*
   	[&lt;advisor-attribute name &gt;&lt;/advisor-attribute&gt;]
   	[&lt;instance-advisor-attribute name&gt;&lt;/instance-advisor-attribute&gt;]
   	[&lt;joinpoint-attribute name &gt;&lt;/joinpoint-attribute&gt;]
   	[random xml]
   &lt;interceptor&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span> class</p>
               <pre class="programlisting">
   @InterceptorDef ([class|factory], scope)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="bindings"/>2.3. Bindings</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;bind {name} pointcut {cflow} &gt;
      [ &lt;interceptor-ref name/&gt; |
        &lt;stack-ref name/&gt; |
        &lt;advice aspect name/&gt; |
        &lt;before aspect name/&gt; |
        &lt;after aspect name/&gt; |
        &lt;around aspect name/&gt; |
        &lt;throwing aspect name/&gt; |
        &lt;finally aspect name/&gt;  ]*
   &lt;/bind&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span> class (if annotated @InterceptorDef), method (if class annotated @Aspect)</p>
               <pre class="programlisting">
   Bind (pointcut {, cflow} )
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="stacks"/>2.4. Stacks</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;stack name&gt;
      [ &lt;interceptor-ref name /&gt; |
        &lt;stack-ref name /&gt; |
        &lt;interceptor [class |factory] scope /&gt; |
        &lt;advice aspect name /&gt;  ]+
   &lt;/stack&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span> N/A</p>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="pointcuts"/>2.5. Pointcuts</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
           
   &lt;pointcut name expr /&gt;
            
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span>field in @Aspect or @InterceptorDef annotated class</p>
               <pre class="programlisting">
   @PointcutDef (expr)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="if-introductions"/>2.6. Interface Introductions</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
           
   &lt;introduction [class|expr] &gt;
   	&lt;interfaces&gt;&lt;/interfaces&gt;
   &lt;/introduction&gt;
            
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span>field in @Aspect or @InterceptorDef annotated class</p>
               <pre class="programlisting">
   @Introduction ([target|typeExpression], interfaces)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="mixins"/>2.7. Mixins</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
         
   &lt;introduction [class|expr] &gt;
      [
   	&lt;mixin {transient} &gt;
   	    &lt;interfaces&gt;&lt;/interfaces&gt;
   	    &lt;class&gt;&lt;/class&gt;
   	    &lt;construction&gt;&lt;/construction&gt;
   	&lt;/mixin&gt;
      ]*
   &lt;/introduction&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span>field in @Aspect or @InterceptorDef annotated class. The method returns the mixin class type</p>
               <pre class="programlisting">
   @Mixin ([target|typeExpression], interfaces, isTransient)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="ann-intro"/>2.8. Annotation Introductions</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;annotation-introduction expr invisible &gt;&lt;/annotation-introduction&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span>field in @Aspect or @InterceptorDef annotated class.</p>
               <pre class="programlisting">
   @AnnotationIntroductionDef (expr, invisible, annotation)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="cflow-stack"/>2.9. CFlow Stack</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;cflow-stack name&gt;
      [&lt;called&gt;&lt;/called&gt; | &lt;not-called&gt;&lt;/not-called&gt;]*
   &lt;cflow-stack&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span>field in @Aspect or @InterceptorDef annotated class.</p>
               <pre class="programlisting">
   @CFlowStackDef (cflows)
         </pre>
         Where the cflows entries must be of type
         <pre class="programlisting">
   @CFlowDef (expr, called)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="typedef"/>2.10. Typedefs</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;typedef name expr /&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span>field in @Aspect or @InterceptorDef annotated class.</p>
               <pre class="programlisting">
   @TypeDef (expr)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="dyna-cflow"/>2.11. Dynamic CFlow</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;dynamic-cflow name class /&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span>class.</p>
               <pre class="programlisting">
   @DynamicCFlowDef (expr)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="prepare"/>2.12. Prepare</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;prepare expr /&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span>field in @Aspect or @InterceptorDef annotated class.</p>
               <pre class="programlisting">
   @Prepare (expr)
         </pre>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="metadata"/>2.13. Metadata</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;metadata tag class&gt;
      [&lt;default&gt;[any xml tags with content]*&lt;/default&gt;]*
      [&lt;class&gt;[any xml tags with content]*&lt;/class&gt;]*
      [&lt;method expr&gt;[any xml tags with content]*&lt;/method&gt;]*
      [&lt;constructor expr&gt;[any xml tags with content]*&lt;/constructor&gt;]*
      [&lt;field expr&gt;[any xml tags with content]*&lt;/field&gt;]*
   &lt;/metadata&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span> N/A.</p>
            </div>
            <div class="sect1" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title">
                           <a id="metadata-loader"/>2.14. Metadata Loaders</h2>
                     </div>
                  </div>
               </div>
               <p>
                  <span class="emphasis">
                     <em>XML</em>
                  </span>
               </p>
               <pre class="programlisting">
            
   &lt;metadata-loader tag class&gt;
      [arbitrary xml]
   &lt;/metadata-loader&gt;
             
         </pre>
               <p>
                  <span class="emphasis">
                     <em>Annotation</em>
                  </span>
               </p>
               <p>
                  <span class="emphasis">
                     <em>Usage:</em>
                  </span> N/A.</p>
            </div>
         </div>
      </div>
   </body>
</html>