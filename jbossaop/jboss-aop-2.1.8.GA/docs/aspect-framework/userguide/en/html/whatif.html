<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>1.1. What is it?</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="JBoss AOP - User Guide"/>
      <link rel="up" href="what.html" title="Chapter 1. What Is Aspect-Oriented Programming?"/>
      <link rel="prev" href="what.html" title="Chapter 1. What Is Aspect-Oriented Programming?"/>
      <link rel="next" href="create.html" title="1.2. Creating Aspects in JBoss AOP"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="what.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="create.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="sect1" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title">
                     <a id="whatif"/>1.1. What is it?</h2>
               </div>
            </div>
         </div>
         <p>
         An aspect is a common feature that's typically scattered across methods, classes, object hierarchies, or even
         entire object models.  It is behavior that looks and smells like it should have structure, but you can't find
         a way to express this structure in code with traditional object-oriented techniques.
      </p>
         <p>
         For example, metrics is one common aspect. To generate useful logs from your application, you have to
         (often liberally) sprinkle informative messages throughout your code.  However, metrics is something that your
         class or object model really shouldn't be concerned about. After all, metrics is irrelevant to your actual
         application: it doesn't represent a customer or an account, and it doesn't realize a business rule.
         It's simply orthogonal.
      </p>
         <p>
         In AOP, a feature like metrics is called a crosscutting concern, as it's a behavior that "cuts" across multiple
         points in your object models, yet is distinctly different. As a development methodology, AOP recommends that
         you abstract and encapsulate crosscutting concerns.
      </p>
         <p>
         For example, let's say you wanted to add code to an application to measure the amount of time it would take to
         invoke a particular method. In plain Java, the code would look something like the following.
      </p>
         <pre class="programlisting">public class BankAccountDAO
{
  public void withdraw(double amount)
  {
    long startTime = System.currentTimeMillis();
    try
    {
      // Actual method body...
    }
    finally
    {
      long endTime = System.currentTimeMillis() - startTime;
      System.out.println("withdraw took: " + endTime);
    }
  }
}</pre>
         <p>
      While this code works, there are a few problems with this approach:
      </p>
         <div class="orderedlist">
            <ol>
               <li>
           It's extremely difficult to turn metrics on and off, as you have to manually add the code in the
           try&gt;/finally block to each and every method or constructor you want to benchmark.
         </li>
               <li>
           The profiling code really doesn't belong sprinkled throughout your application code. It makes your code
           bloated and harder to read, as you have to enclose the timings within a try/finally block.
         </li>
               <li>
           If you wanted to expand this functionality to include a method or failure count, or even to register these
           statistics to a more sophisticated reporting mechanism, you'd have to modify a lot of different files (again).
         </li>
            </ol>
         </div>
         <p>
         This approach to metrics is very difficult to maintain, expand, and extend, because it's dispersed throughout
         your entire code base. And this is just a tiny example! In many cases, OOP may not always be the best way to
         add metrics to a class.
      </p>
         <p>
         Aspect-oriented programming gives you a way to encapsulate this type of behavior functionality.  It allows you
         to add behavior such as metrics "around" your code. For example, AOP provides you with programmatic control to
         specify that you want calls to BankAccountDAO to go through a metrics aspect before executing the actual body
         of that code.
      </p>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="what.html">
               <strong>Prev</strong>Chapter 1. What Is Aspect-Oriented Programming?</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="create.html">
               <strong>Next</strong>1.2. Creating Aspects in JBoss AOP</a>
         </li>
      </ul>
   </body>
</html>